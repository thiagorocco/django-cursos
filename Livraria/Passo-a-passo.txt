1. Instale o poetry: pip install poetry

2. Entre no diretório do projeto e digite: poetry init

3. Confirme as próximas etapas e será criado o arquivo pyproject.toml

4. Em seguida use o comando: poetry install
    Ele criará um ambiente virtual parecido com o python -m venv venv

5. Instale o django: poetry add django

6. Acesse o ambiente virtual do poetry: poetry shell

7. Inicie o projeto django: django-admin startproject nome-projeto .

8. Em settings.py recomenda-se ler um pouco a documentação:
    https://docs.djangoproject.com/en/5.0/topics/settings/
    https://docs.djangoproject.com/en/5.0/ref/settings/

    É recomendado trocar a SECRET_KEY

9. Execute o comando: python manage.py migrate
    Isso criará o banco de dados e a página de admin já estará disponível em localhost:8000/admin

10. Crie um super usuário: python manage.py createsuperuser

11. Crie um app: python manage.py startapp core. E em setting adicione o app core

12. Em core, crie essa view:
    from django.http import HttpResponse

    def teste(request):
        return HttpResponse('Olá, mundo do Django')

13. Em livraria/urls.py adicione a rota para a view teste:
    Importe a view: 
        from core import views
    E no array urlpatterns inclua a rota para teste:
        .
        .
        path('teste/',views.teste)
14. Crie uma nova view teste2 e adicione uma rota para essa também.

15. Agora vá até core/models e crie as classes Categoria, Editora, Autor e Livro:

class Autor(models.Model):
    class Meta:
        verbose_name_plural = "autores"
        
    nome = models.CharField(max_length=255)
    
    def __str__(self):
        return self.nome

class Livro(models.Model):
    
    titulo = models.CharField(max_length=255)
    ISBN = models.CharField(max_length=32)
    quantidade = models.IntegerField(default=1)
    preco = models.FloatField(default=1.0)
    categoria = models.ForeignKey(Categoria, on_delete=models.PROTECT, related_name="livros", default=1)
    editora = models.ForeignKey(Editora, on_delete=models.PROTECT, related_name="livros",default=1)
    
    #Atributo muitos para muitos
    autores = models.ManyToManyField(Autor, related_name="livros")
    
    def __str__(self):
        return "%s (%s)" %(self.titulo, self.editora)

class Compra(models.Model):
    
    class StatusCompra(models.IntegerChoices):
        CARRINHO = 1, 'Carrinho'
        REALIZADO = 2, 'Realizado'
        PAGO = 3, 'Pago'
        ENTREGUE = 4, 'Entregue'
        
    usuario = models.ForeignKey(User, on_delete=models.PROTECT, related_name="compras") 
    status = models.IntegerField(choices=StatusCompra.choices, default=StatusCompra.CARRINHO)  

    


16. Execute o comando: python manage.py makemigrations
17. Em seguida execute o comando: python manage.py migrate

18. Em admin.py registre esses modelos de dados para ficarem visíveis em localhost/admin:

    from core.models import Autor, Categoria, Compra, Editora, Livro

    admin.site.register(Autor)
    admin.site.register(Categoria)
    admin.site.register(Editora)
    admin.site.register(Livro)
    admin.site.register(Compra)

19. Para a apresentação do nome plural correto(ou como você quiser) na tela do admin,
    use uma meta classe dentro da classe model que você deseja alterar:

        class Autor(models.Model):
            class Meta:
                verbose_name_plural = "autores"
            .
            .
            .    

